<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>Theory Natural_Deduction (Isabelle2020-RC3: March 2020)</title>
<link media="all" rel="stylesheet" type="text/css" href="isabelle.css"/>
</head>

<body>
<div class="head"><h1>Theory Natural_Deduction</h1>

<span class="command">theory</span> <span class="name">Natural_Deduction</span><br/>
<span class="keyword">imports</span> <a href="../Abstract/Deduction.html"><span class="name">Deduction</span></a><br/>

</div>
<div class="source">
<pre class="source"><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* Natural deduction system built from the Hilbert-style system: *)</span></span></span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">theory</span></span><span> </span><span>Natural_Deduction</span><span>
</span><span class="keyword2"><span class="keyword">imports</span></span><span> </span><span>Abstract.Deduction</span><span>
</span><span class="keyword2"><span class="keyword">begin</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">context</span></span><span> </span><span>Deduct_with_False_Disj</span><span>
</span><span class="keyword2"><span class="keyword">begin</span></span><span>
</span><span>
</span><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* Natural deduction style proving: *)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>nprv</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;fmla set &#8658; &#39;fmla &#8658; bool&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#966; &#8801; prv (imp (scnj F) &#966;)&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_hyp</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;&#966; &#8712; F &#10233; F &#8838; fmla &#10233; finite F &#10233; nprv F &#966;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>nprv_def</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>prv_scnj_imp_in</span><span> </span><span>subset_iff</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* Structural rules for nprv: *)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>prv_nprv0I</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;prv &#966; &#10233; &#966; &#8712; fmla &#10233; nprv {} &#966;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>nprv_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>prv_imp_triv</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>prv_nprv_emp</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#966; &#8712; fmla &#10233; prv &#966; &#10231; nprv {} &#966;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>prv_nprv0I</span><span> </span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>nprv_def</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span> </span><span class="delimiter">(</span><span>meson</span><span> </span><span>bot.extremum</span><span> </span><span>equals0D</span><span> </span><span>exists_no_Fvars</span><span> </span><span>finite.simps</span><span> </span><span>prv_imp_mp</span><span> </span><span>prv_imp_scnj</span><span> </span><span>scnj</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_mono</span><span class="delimiter">:</span><span>
</span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv G &#966;&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;F &#8838; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;finite F&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;G &#8838; F&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#966; &#8712; fmla&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#966;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span> </span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>nprv_def</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>meson</span><span> </span><span>order_trans</span><span> </span><span>prv_prv_imp_trans</span><span> </span><span>prv_scnj_mono</span><span> </span><span>rev_finite_subset</span><span> </span><span>scnj</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_cut</span><span class="delimiter">:</span><span>
</span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#966;&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv (insert &#966; F) &#968;&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;F &#8838; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;finite F&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;&#966; &#8712; fmla&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;&#968; &#8712; fmla&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span> </span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>nprv_def</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span class="delimiter">(</span><span>full_types</span><span class="delimiter">)</span><span> </span><span>cnj</span><span> </span><span>finite.insertI</span><span>
</span><span>  </span><span>insert_subset</span><span> </span><span>prv_imp_cnj</span><span> </span><span>prv_imp_cnj_scnj</span><span> </span><span>prv_imp_refl</span><span> </span><span>prv_prv_imp_trans</span><span> </span><span>scnj</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_strong_cut2</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#966;1 &#10233; nprv (insert &#966;1 F) &#966;2 &#10233; nprv (insert &#966;2 (insert &#966;1 F)) &#968; &#10233;
 F &#8838; fmla &#10233; finite F &#10233; &#966;1 &#8712; fmla &#10233; &#966;2 &#8712; fmla &#10233; &#968; &#8712; fmla &#10233;
 nprv F &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>meson</span><span> </span><span>finite.insertI</span><span> </span><span>insert_subsetI</span><span> </span><span>nprv_cut</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_cut2</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#966;1 &#10233; nprv F &#966;2 &#10233;
 F &#8838; fmla &#10233; finite F &#10233; &#966;1 &#8712; fmla &#10233; &#966;2 &#8712; fmla &#10233; &#968; &#8712; fmla &#10233;
 nprv (insert &#966;2 (insert &#966;1 F)) &#968; &#10233; nprv F &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>meson</span><span> </span><span>finite.insertI</span><span> </span><span>insert_subsetI</span><span> </span><span>nprv_mono</span><span> </span><span>nprv_strong_cut2</span><span> </span><span>subset_insertI</span><span class="delimiter">)</span><span>
</span><span>
</span><span>
</span><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* Useful for fine control of the eigenformula: *)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_insertShiftI</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv (insert &#966;1 (insert &#966;2 F)) &#968; &#10233; nprv (insert &#966;2 (insert &#966;1 F)) &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>insert_commute</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_insertShift2I</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv (insert &#966;3 (insert &#966;1 (insert &#966;2 F))) &#968; &#10233; nprv (insert &#966;1 (insert &#966;2 (insert &#966;3 F))) &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>insert_commute</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* Going back from nrpv to prv for simple goals
(to be done by the brute-force of the huge amount of facts available about prv):  *)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>prv_nprvI</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;prv &#966; &#10233; &#966; &#8712; fmla &#10233; F &#8838; fmla &#10233; finite F &#10233; nprv F &#966;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>prv_nprv0I</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>nprv_def</span><span> </span><span>prv_imp_triv</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">thm</span></span><span> </span><span>prv_nprv0I</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>prv_nprv1I</span><span class="delimiter">:</span><span>
</span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#966; &#8712; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#968; &#8712; fmla&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;prv (imp &#966; &#968;)&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv {&#966;} &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span> </span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>nprv_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>prv_scnj_imp</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>prv_nprv2I</span><span class="delimiter">:</span><span>
</span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;prv (imp &#966;1 (imp &#966;2 &#968;))&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#966;1 &#8712; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#966;2 &#8712; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#968; &#8712; fmla&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv {&#966;1,&#966;2} &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span> </span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>nprv_def</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>meson</span><span> </span><span>cnj</span><span> </span><span>empty_subsetI</span><span> </span><span>finite.simps</span><span> </span><span>insert_subsetI</span><span> </span><span>prv_cnj_imp_monoR2</span><span> </span><span>prv_prv_imp_trans</span><span> </span><span>prv_scnj2_imp_cnj</span><span> </span><span>scnj</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_prvI</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv {} &#966; &#10233; &#966; &#8712; fmla &#10233; prv &#966;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>prv_nprv_emp</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_clear</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv {} &#966; &#10233; F &#8838; fmla &#10233; finite F &#10233; &#966; &#8712; fmla &#10233; nprv F &#966;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>nprv_mono</span><span class="delimiter">)</span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_cut_set</span><span class="delimiter">:</span><span>
</span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>F</span><span class="delimiter">:</span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;finite F&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;F &#8838; fmla&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>G</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;finite G&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;G &#8838; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#967; &#8712; fmla&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>n1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8896; &#968;. &#968; &#8712; G &#10233; nprv F &#968;&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>n2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv (G &#8746; F) &#967;&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#967;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>G</span><span> </span><span>F</span><span> </span><span>n1</span><span> </span><span>n2</span><span> </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induction</span><span> </span><span>arbitrary</span><span class="delimiter">:</span><span> </span><span>F</span><span> </span><span>&#967;</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">case</span></span><span> </span><span class="delimiter">(</span><span>insert</span><span> </span><span>&#968;</span><span> </span><span>G</span><span> </span><span>F</span><span> </span><span>&#967;</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span>0</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#968;&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv (insert &#968; F) &#967;&quot;</span></span></span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>insert.IH</span><span class="delimiter">)</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>insert.prems</span><span>
</span><span>  </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span> </span><span class="delimiter">(</span><span>meson</span><span> </span><span>finite.insertI</span><span> </span><span>insert_subset</span><span> </span><span>nprv_mono</span><span> </span><span>subset_eq</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>nprv_cut</span><span class="delimiter">[</span><span>OF</span><span> </span><span>0</span><span> </span><span>1</span><span class="delimiter">]</span><span class="delimiter">)</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>insert.prems</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span class="delimiter">(</span><span>insert</span><span> </span><span>nprv_clear</span><span class="delimiter">,</span><span> </span><span>auto</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_clear2_1</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv {&#966;2} &#968; &#10233; &#966;1 &#8712; fmla &#10233; &#966;2 &#8712; fmla &#10233; &#968; &#8712; fmla &#10233;
 nprv {&#966;1,&#966;2} &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>nprv_mono</span><span class="delimiter">)</span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_clear2_2</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv {&#966;1} &#968; &#10233; &#966;1 &#8712; fmla &#10233; &#966;2 &#8712; fmla &#10233; &#968; &#8712; fmla &#10233;
 nprv {&#966;1,&#966;2} &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>nprv_mono</span><span class="delimiter">)</span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_clear3_1</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv {&#966;2,&#966;3} &#968; &#10233; &#966;1 &#8712; fmla &#10233; &#966;2 &#8712; fmla &#10233; &#966;3 &#8712; fmla &#10233; &#968; &#8712; fmla &#10233;
 nprv {&#966;1,&#966;2,&#966;3} &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>nprv_mono</span><span class="delimiter">)</span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_clear3_2</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv {&#966;1,&#966;3} &#968; &#10233; &#966;1 &#8712; fmla &#10233; &#966;2 &#8712; fmla &#10233; &#966;3 &#8712; fmla &#10233; &#968; &#8712; fmla &#10233;
 nprv {&#966;1,&#966;2,&#966;3} &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>nprv_mono</span><span class="delimiter">)</span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_clear3_3</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv {&#966;1,&#966;2} &#968; &#10233; &#966;1 &#8712; fmla &#10233; &#966;2 &#8712; fmla &#10233; &#966;3 &#8712; fmla &#10233; &#968; &#8712; fmla &#10233;
 nprv {&#966;1,&#966;2,&#966;3} &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>nprv_mono</span><span class="delimiter">)</span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_clear4_1</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv {&#966;2,&#966;3,&#966;4} &#968; &#10233; &#966;1 &#8712; fmla &#10233; &#966;2 &#8712; fmla &#10233; &#966;3 &#8712; fmla &#10233; &#966;4 &#8712; fmla &#10233;&#968; &#8712; fmla &#10233;
 nprv {&#966;1,&#966;2,&#966;3,&#966;4} &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>nprv_mono</span><span class="delimiter">)</span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_clear4_2</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv {&#966;1,&#966;3,&#966;4} &#968; &#10233; &#966;1 &#8712; fmla &#10233; &#966;2 &#8712; fmla &#10233; &#966;3 &#8712; fmla &#10233; &#966;4 &#8712; fmla &#10233; &#968; &#8712; fmla &#10233;
 nprv {&#966;1,&#966;2,&#966;3,&#966;4} &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>nprv_mono</span><span class="delimiter">)</span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_clear4_3</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv {&#966;1,&#966;2,&#966;4} &#968; &#10233; &#966;1 &#8712; fmla &#10233; &#966;2 &#8712; fmla &#10233; &#966;3 &#8712; fmla &#10233; &#966;4 &#8712; fmla &#10233;&#968; &#8712; fmla &#10233;
 nprv {&#966;1,&#966;2,&#966;3,&#966;4} &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>nprv_mono</span><span class="delimiter">)</span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_clear4_4</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv {&#966;1,&#966;2,&#966;3} &#968; &#10233; &#966;1 &#8712; fmla &#10233; &#966;2 &#8712; fmla &#10233; &#966;3 &#8712; fmla &#10233; &#966;4 &#8712; fmla &#10233;&#968; &#8712; fmla &#10233;
 nprv {&#966;1,&#966;2,&#966;3,&#966;4} &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>nprv_mono</span><span class="delimiter">)</span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_clear5_1</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv {&#966;2,&#966;3,&#966;4,&#966;5} &#968; &#10233; &#966;1 &#8712; fmla &#10233; &#966;2 &#8712; fmla &#10233; &#966;3 &#8712; fmla &#10233; &#966;4 &#8712; fmla &#10233; &#966;5 &#8712; fmla &#10233; &#968; &#8712; fmla &#10233;
 nprv {&#966;1,&#966;2,&#966;3,&#966;4,&#966;5} &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>nprv_mono</span><span class="delimiter">)</span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_clear5_2</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv {&#966;1,&#966;3,&#966;4,&#966;5} &#968; &#10233; &#966;1 &#8712; fmla &#10233; &#966;2 &#8712; fmla &#10233; &#966;3 &#8712; fmla &#10233; &#966;4 &#8712; fmla &#10233; &#966;5 &#8712; fmla &#10233; &#968; &#8712; fmla &#10233;
 nprv {&#966;1,&#966;2,&#966;3,&#966;4,&#966;5} &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>nprv_mono</span><span class="delimiter">)</span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_clear5_3</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv {&#966;1,&#966;2,&#966;4,&#966;5} &#968; &#10233; &#966;1 &#8712; fmla &#10233; &#966;2 &#8712; fmla &#10233; &#966;3 &#8712; fmla &#10233; &#966;4 &#8712; fmla &#10233; &#966;5 &#8712; fmla &#10233; &#968; &#8712; fmla &#10233;
 nprv {&#966;1,&#966;2,&#966;3,&#966;4,&#966;5} &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>nprv_mono</span><span class="delimiter">)</span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_clear5_4</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv {&#966;1,&#966;2,&#966;3,&#966;5} &#968; &#10233; &#966;1 &#8712; fmla &#10233; &#966;2 &#8712; fmla &#10233; &#966;3 &#8712; fmla &#10233; &#966;4 &#8712; fmla &#10233; &#966;5 &#8712; fmla &#10233; &#968; &#8712; fmla &#10233;
 nprv {&#966;1,&#966;2,&#966;3,&#966;4,&#966;5} &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>nprv_mono</span><span class="delimiter">)</span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_clear5_5</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv {&#966;1,&#966;2,&#966;3,&#966;4} &#968; &#10233; &#966;1 &#8712; fmla &#10233; &#966;2 &#8712; fmla &#10233; &#966;3 &#8712; fmla &#10233; &#966;4 &#8712; fmla &#10233; &#966;5 &#8712; fmla &#10233; &#968; &#8712; fmla &#10233;
 nprv {&#966;1,&#966;2,&#966;3,&#966;4,&#966;5} &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>nprv_mono</span><span class="delimiter">)</span><span> </span><span>auto</span><span>
</span><span>
</span><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* Substitutivity of nprv: *)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_subst</span><span class="delimiter">:</span><span>
</span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;x &#8712; var&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;t &#8712; trm&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#968; &#8712; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;finite F&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;F &#8838; fmla&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#968;&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv ((&#955;&#966;. subst &#966; t x) ` F) (subst &#968; t x)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span> </span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>nprv_def</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>intro</span><span> </span><span>prv_prv_imp_trans</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>prv_subst_scnj_imp</span><span class="delimiter">]</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>prv_subst</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>1</span><span class="delimiter">[</span><span>unfolded</span><span> </span><span>nprv_def</span><span class="delimiter">]</span><span class="delimiter">]</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_subst_fresh</span><span class="delimiter">:</span><span>
</span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>0</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;x &#8712; var&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;t &#8712; trm&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#968; &#8712; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;finite F&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;F &#8838; fmla&quot;</span></span></span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#968;&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;x &#8713; &#8899; (Fvars ` F)&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F (subst &#968; t x)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(&#955;&#966;. subst &#966; t x) ` F = F&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>image_def</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>force</span><span>
</span><span>  </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>nprv_subst</span><span class="delimiter">[</span><span>OF</span><span> </span><span>0</span><span class="delimiter">]</span><span> </span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>2</span><span> </span><span class="keyword1"><span class="command">.</span></span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_subst_rev</span><span class="delimiter">:</span><span>
</span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>0</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;x &#8712; var&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;y &#8712; var&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#968; &#8712; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;finite F&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;F &#8838; fmla&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>f</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;y = x &#8744; (y &#8713; Fvars &#968; &#8743; y &#8713; &#8899; (Fvars ` F))&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv ((&#955;&#966;. subst &#966; (Var y) x) ` F) (subst &#968; (Var y) x)&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>0</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;subst (subst &#968; (Var y) x) (Var x) y = &#968;&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span class="delimiter">:</span><span> </span><span>subst_compose_eq_or</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv ((&#955;&#966;. subst &#966; (Var x) y) ` (&#955;&#966;. subst &#966; (Var y) x) ` F) &#968;&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>subst</span><span> </span><span>0</span><span class="delimiter">[</span><span>symmetric</span><span class="delimiter">]</span><span class="delimiter">)</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>nprv_subst</span><span class="delimiter">)</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;prv (imp (scnj F)
                 (scnj ((&#955;&#966;. subst &#966; (Var x) y) ` (&#955;&#966;. subst &#966; (Var y) x) ` F)))&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>prv_scnj_mono_imp</span><span class="delimiter">)</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>fastforce</span><span class="delimiter">,</span><span>fastforce</span><span class="delimiter">,</span><span>fastforce</span><span class="delimiter">,</span><span>fastforce</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>safe</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">subgoal</span></span></span></span><span> </span><span class="keyword2"><span class="keyword">for</span></span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>&#966;</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>bexI</span><span class="delimiter">[</span><span>of</span><span> </span><span>_</span><span> </span><span>&#966;</span><span class="delimiter">]</span><span class="delimiter">)</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>prv_imp_refl2</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span class="delimiter">:</span><span> </span><span>subst_compose_eq_or</span><span class="delimiter">)</span><span> </span><span class="keyword1"><span class="command">.</span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>nprv_def</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span>-</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>prv_prv_imp_trans</span><span class="delimiter">)</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_psubst</span><span class="delimiter">:</span><span>
</span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>0</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;snd ` set txs &#8838; var&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;fst ` set txs &#8838; trm&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#968; &#8712; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;finite F&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;F &#8838; fmla&quot;</span></span></span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;distinct (map snd txs)&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#968;&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv ((&#955;&#966;. psubst &#966; txs) ` F) (psubst &#968; txs)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span> </span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>nprv_def</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>intro</span><span> </span><span>prv_prv_imp_trans</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>prv_psubst_scnj_imp</span><span class="delimiter">]</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>0</span><span> </span><span>prv_psubst</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>1</span><span class="delimiter">[</span><span>unfolded</span><span> </span><span>nprv_def</span><span class="delimiter">]</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">!</span><span class="delimiter">:</span><span> </span><span>psubst</span><span class="delimiter">)</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span>psubst_imp</span><span> </span><span>scnj</span><span class="delimiter">)</span><span>
</span><span>
</span><span>
</span><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* Introduction and elimination rules for nprv: *)</span></span></span></span></span><span>
</span><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* We systematically leave the side-conditions at the end, to simplify reasoning *)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_impI</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv (insert &#966; F) &#968; &#10233;
 F &#8838; fmla &#10233; finite F &#10233; &#966; &#8712; fmla &#10233; &#968; &#8712; fmla &#10233;
 nprv F (imp &#966; &#968;)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>nprv_def</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span>cnj</span><span> </span><span>finite.insertI</span><span> </span><span>insert_subset</span><span> </span><span>prv_cnj_imp</span><span> </span><span>prv_imp_cnj_scnj</span><span> </span><span>prv_imp_com</span><span> </span><span>prv_prv_imp_trans</span><span> </span><span>scnj</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_impI_rev</span><span class="delimiter">:</span><span>
</span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F (imp &#966; &#968;)&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;F &#8838; fmla&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;finite F&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#966; &#8712; fmla&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#968; &#8712; fmla&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv (insert &#966; F) &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span> </span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>nprv_def</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span>cnj</span><span> </span><span>finite.insertI</span><span> </span><span>insert_subset</span><span> </span><span>prv_cnj_imp_monoR2</span><span> </span><span>prv_eqv_imp_transi</span><span>
</span><span>    </span><span>prv_eqv_scnj_insert</span><span> </span><span>prv_imp_com</span><span> </span><span>scnj</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_impI_rev2</span><span class="delimiter">:</span><span>
</span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F (imp &#966; &#968;)&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>G</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;insert &#966; F &#8838; G&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;G &#8838; fmla&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;finite G&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#966; &#8712; fmla&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#968; &#8712; fmla&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv G &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>nprv_mono</span><span class="delimiter">[</span><span>of</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;insert &#966; F&quot;</span></span></span><span class="delimiter">]</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span> </span><span>nprv_impI_rev</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>simp_all</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>meson</span><span> </span><span>order_trans</span><span> </span><span>rev_finite_subset</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_mp</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv F (imp &#966; &#968;) &#10233; nprv F &#966; &#10233;
 F &#8838; fmla &#10233; finite F &#10233; &#966; &#8712; fmla &#10233; &#968; &#8712; fmla &#10233;
 nprv F &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>nprv_def</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span class="delimiter">(</span><span>full_types</span><span class="delimiter">)</span><span> </span><span>cnj</span><span> </span><span>prv_cnj_imp_monoR2</span><span> </span><span>prv_imp_cnj</span><span> </span><span>prv_imp_refl</span><span> </span><span>prv_prv_imp_trans</span><span> </span><span>scnj</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_impE</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv F (imp &#966; &#968;) &#10233; nprv F &#966; &#10233;  nprv (insert &#968; F) &#967; &#10233;
 F &#8838; fmla &#10233; finite F &#10233; &#966; &#8712; fmla &#10233; &#968; &#8712; fmla &#10233; &#967; &#8712; fmla &#10233;
 nprv F &#967;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>nprv_cut</span><span> </span><span>nprv_mp</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_impE0</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_impE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_impE1</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_impE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_impE2</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_impE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_impE01</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_impE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_impE02</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_impE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_impE12</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_impE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_impE012</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_impE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_cnjI</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#966; &#10233; nprv F &#968; &#10233;
 F &#8838; fmla &#10233; finite F &#10233; &#966; &#8712; fmla &#10233; &#968; &#8712; fmla &#10233;
 nprv F (cnj &#966; &#968;)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>nprv_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>prv_imp_cnj</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_cnjE</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv F (cnj &#966;1 &#966;2) &#10233; nprv (insert &#966;1 (insert &#966;2 F)) &#968; &#10233;
 F &#8838; fmla &#10233; finite F &#10233; &#966;1 &#8712; fmla &#10233; &#966;2 &#8712; fmla &#10233; &#968; &#8712; fmla &#10233;
 nprv F &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>nprv_def</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span>cnj</span><span> </span><span>nprv_cut2</span><span> </span><span>nprv_def</span><span> </span><span>prv_imp_cnjL</span><span> </span><span>prv_imp_cnjR</span><span> </span><span>prv_prv_imp_trans</span><span> </span><span>scnj</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_cnjE0</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_cnjE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_cnjE1</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_cnjE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_cnjE01</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_cnjE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_dsjIL</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#966; &#10233;
 F &#8838; fmla &#10233; finite F &#10233; &#966; &#8712; fmla &#10233; &#968; &#8712; fmla &#10233;
 nprv F (dsj &#966; &#968;)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>nprv_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>meson</span><span> </span><span>dsj</span><span> </span><span>prv_dsj_impL</span><span> </span><span>prv_prv_imp_trans</span><span> </span><span>scnj</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_dsjIR</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#968; &#10233;
 F &#8838; fmla &#10233; finite F &#10233; &#966; &#8712; fmla &#10233; &#968; &#8712; fmla &#10233;
 nprv F (dsj &#966; &#968;)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>nprv_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>meson</span><span> </span><span>dsj</span><span> </span><span>prv_dsj_impR</span><span> </span><span>prv_prv_imp_trans</span><span> </span><span>scnj</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_dsjE</span><span class="delimiter">:</span><span>
</span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F (dsj &#966; &#968;)&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv (insert &#966; F) &#967;&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv (insert &#968; F) &#967;&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;F &#8838; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;finite F&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#966; &#8712; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#968; &#8712; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#967; &#8712; fmla&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#967;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F (imp (dsj &#966; &#968;) &#967;)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>meson</span><span> </span><span>assms</span><span> </span><span>dsj</span><span> </span><span>imp</span><span> </span><span>nprv_def</span><span> </span><span>nprv_impI</span><span> </span><span>prv_imp_com</span><span> </span><span>prv_imp_dsjEE</span><span> </span><span>scnj</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv (insert (dsj &#966; &#968;) F) &#967;&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>nprv_impI_rev</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>meson</span><span> </span><span>dsj</span><span> </span><span>nprv_cut</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_dsjE0</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_dsjE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_dsjE1</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_dsjE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_dsjE2</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_dsjE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_dsjE01</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_dsjE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_dsjE02</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_dsjE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_dsjE12</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_dsjE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_dsjE012</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_dsjE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_flsE</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F fls &#10233; F &#8838; fmla &#10233; finite F &#10233; &#966; &#8712; fmla &#10233;  nprv F &#966;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>nprv_def</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>prv_prv_imp_trans</span><span> </span><span>scnj</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_flsE0</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_flsE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_truI</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;F &#8838; fmla &#10233; finite F &#10233; nprv F tru&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>nprv_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>prv_imp_tru</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_negI</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv (insert &#966; F) fls &#10233;
 F &#8838; fmla &#10233; finite F &#10233; &#966; &#8712; fmla &#10233;
 nprv F (neg &#966;)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>neg_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>nprv_impI</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_neg_fls</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv F (neg &#966;) &#10233; nprv F &#966; &#10233;
 F &#8838; fmla &#10233; finite F &#10233; &#966; &#8712; fmla &#10233; &#968; &#8712; fmla &#10233;
 nprv F fls&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>neg_def</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>nprv_mp</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_negE</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv F (neg &#966;) &#10233; nprv F &#966; &#10233;
 F &#8838; fmla &#10233; finite F &#10233; &#966; &#8712; fmla &#10233; &#968; &#8712; fmla &#10233;
 nprv F &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>nprv_flsE</span><span> </span><span>nprv_neg_fls</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_negE0</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_negE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_negE1</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_negE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_negE01</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_negE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_scnjI</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;(&#8896; &#968;. &#968; &#8712; G &#10233; nprv F &#968;) &#10233;
 F &#8838; fmla &#10233; finite F &#10233; G &#8838; fmla &#10233; finite G &#10233;
 nprv F (scnj G)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>nprv_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>prv_imp_scnj</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_scnjE</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv F (scnj G) &#10233; nprv (G &#8746; F) &#968; &#10233;
 F &#8838; fmla &#10233; finite F &#10233; G &#8838; fmla &#10233; finite G &#10233; &#968; &#8712; fmla &#10233;
 nprv F &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>nprv_cut_set</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span> </span><span class="delimiter">(</span><span>meson</span><span> </span><span>nprv_def</span><span> </span><span>prv_prv_imp_trans</span><span> </span><span>prv_scnj_imp_in</span><span> </span><span>scnj</span><span> </span><span>subset_eq</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_scnjE0</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_scnjE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_scnjE1</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_scnjE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_scnjE01</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_scnjE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_lcnjI</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;(&#8896; &#968;. &#968; &#8712; set &#968;s &#10233; nprv F &#968;) &#10233;
 F &#8838; fmla &#10233; finite F &#10233; set &#968;s &#8838; fmla &#10233;
 nprv F (lcnj &#968;s)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>nprv_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>prv_imp_lcnj</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_lcnjE</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv F (lcnj &#966;s) &#10233; nprv (set &#966;s &#8746; F) &#968; &#10233;
 F &#8838; fmla &#10233; finite F &#10233; set &#966;s &#8838; fmla &#10233; &#968; &#8712; fmla &#10233;
 nprv F &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>nprv_cut_set</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span> </span><span class="delimiter">(</span><span>meson</span><span> </span><span>lcnj</span><span> </span><span>nprv_def</span><span> </span><span>prv_lcnj_imp_in</span><span> </span><span>prv_prv_imp_trans</span><span> </span><span>scnj</span><span> </span><span>subsetCE</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_lcnjE0</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_lcnjE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_lcnjE1</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_lcnjE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_lcnjE01</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_lcnjE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_sdsjI</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#966; &#10233;
 F &#8838; fmla &#10233; finite F &#10233; G &#8838; fmla &#10233; finite G &#10233; &#966; &#8712; G &#10233;
 nprv F (sdsj G)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>nprv_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>prv_imp_sdsj</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_sdsjE</span><span class="delimiter">:</span><span>
</span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F (sdsj G)&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8896; &#968;. &#968; &#8712; G &#10233; nprv (insert &#968; F) &#967;&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;F &#8838; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;finite F&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;G &#8838; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;finite G&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#967; &#8712; fmla&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#967;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>0</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;prv (imp (sdsj G) (imp (scnj F) &#967;))&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>prv_sdsj_imp</span><span class="delimiter">)</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span> </span><span class="delimiter">(</span><span>meson</span><span> </span><span>nprv_def</span><span> </span><span>nprv_impI</span><span> </span><span>prv_imp_com</span><span> </span><span>scnj</span><span> </span><span>set_rev_mp</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F (imp (sdsj G) &#967;)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>0</span><span> </span><span>assms</span><span> </span><span>nprv_def</span><span> </span><span>prv_imp_com</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span> </span><span>nprv_mp</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_sdsjE0</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_sdsjE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_sdsjE1</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_sdsjE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_sdsjE01</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_sdsjE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_ldsjI</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#966; &#10233;
 F &#8838; fmla &#10233; finite F &#10233; set &#966;s &#8838; fmla &#10233;  &#966; &#8712; set &#966;s &#10233;
 nprv F (ldsj &#966;s)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>nprv_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>prv_imp_ldsj</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_ldsjE</span><span class="delimiter">:</span><span>
</span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F (ldsj &#968;s)&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8896; &#968;. &#968; &#8712; set &#968;s &#10233; nprv (insert &#968; F) &#967;&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;F &#8838; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;finite F&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;set &#968;s &#8838; fmla&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;&#967; &#8712; fmla&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#967;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>0</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;prv (imp (ldsj &#968;s) (imp (scnj F) &#967;))&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>prv_ldsj_imp</span><span class="delimiter">)</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span> </span><span class="delimiter">(</span><span>meson</span><span> </span><span>nprv_def</span><span> </span><span>nprv_impI</span><span> </span><span>prv_imp_com</span><span> </span><span>scnj</span><span> </span><span>set_rev_mp</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F (imp (ldsj &#968;s) &#967;)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>0</span><span> </span><span>assms</span><span> </span><span>nprv_def</span><span> </span><span>prv_imp_com</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span> </span><span>nprv_mp</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_ldsjE0</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_ldsjE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_ldsjE1</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_ldsjE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_ldsjE01</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_ldsjE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_allI</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#966; &#10233;
 F &#8838; fmla &#10233; finite F &#10233; &#966; &#8712; fmla &#10233; x &#8712; var &#10233; x &#8713; &#8899; (Fvars ` F) &#10233;
 nprv F (all x &#966;)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>nprv_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>prv_all_imp_gen</span><span class="delimiter">)</span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_allE</span><span class="delimiter">:</span><span>
</span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F (all x &#966;)&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv (insert (subst &#966; t x) F) &#968;&quot;</span></span></span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;F &#8838; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;finite F&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#966; &#8712; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;t &#8712; trm&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;x &#8712; var&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#968; &#8712; fmla&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F (subst &#966; t x)&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span> </span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>nprv_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>meson</span><span> </span><span>all</span><span> </span><span>subst</span><span> </span><span>prv_all_inst</span><span> </span><span>prv_prv_imp_trans</span><span> </span><span>scnj</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>meson</span><span> </span><span>assms</span><span> </span><span>local.subst</span><span> </span><span>nprv_cut</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_allE0</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_allE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_allE1</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_allE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_allE01</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_allE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_exiI</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv F (subst &#966; t x) &#10233;
 F &#8838; fmla &#10233; finite F &#10233; &#966; &#8712; fmla &#10233; t &#8712; trm &#10233; x &#8712; var &#10233;
 nprv F (exi x &#966;)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>nprv_def</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>meson</span><span> </span><span>exi</span><span> </span><span>local.subst</span><span> </span><span>prv_exi_inst</span><span> </span><span>prv_prv_imp_trans</span><span> </span><span>scnj</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_exiE</span><span class="delimiter">:</span><span>
</span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>n</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F (exi x &#966;)&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>nn</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv (insert &#966; F) &#968;&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>0</span><span class="delimiter">[</span><span>simp</span><span class="delimiter">]</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;F &#8838; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;finite F&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#966; &#8712; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;x &#8712; var&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#968; &#8712; fmla&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>x</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;x &#8713; &#8899; (Fvars ` F)&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;x &#8713; Fvars &#968;&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F (imp (exi x &#966;) &#968;)&quot;</span></span></span><span> </span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>nprv_def</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>prv_imp_com</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>simp_all</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>prv_exi_imp_gen</span><span class="delimiter">)</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>x</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>simp_all</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>prv_imp_com</span><span class="delimiter">)</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>simp_all</span><span> </span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>nprv_def</span><span class="delimiter">[</span><span>symmetric</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>nprv_impI</span><span class="delimiter">)</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>nn</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>n</span><span> </span><span>assms</span><span> </span><span>nprv_mp</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_exiE0</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_exiE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_exiE1</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_exiE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_exiE01</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_exiE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span>
</span><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* Adding lemmas of various shapes into the proof context *)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_addLemmaE</span><span class="delimiter">:</span><span>
</span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;prv &#966;&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv (insert &#966; F) &#968;&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#966; &#8712; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#968; &#8712; fmla&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;F &#8838; fmla&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;finite F&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span> </span><span>nprv_cut</span><span> </span><span>prv_nprvI</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_addLemmaE1</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addLemmaE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_addImpLemmaI</span><span class="delimiter">:</span><span>
</span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;prv (imp &#966;1 &#966;2)&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;F &#8838; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;finite F&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#966;1 &#8712; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#966;2 &#8712; fmla&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#966;1&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#966;2&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>meson</span><span> </span><span>assms</span><span> </span><span>nprv_def</span><span> </span><span>prv_prv_imp_trans</span><span> </span><span>scnj</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_addImpLemmaE</span><span class="delimiter">:</span><span>
</span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;prv (imp &#966;1 &#966;2)&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#966;1&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv ((insert &#966;2) F) &#968;&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;F &#8838; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;finite F&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#966;1 &#8712; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#966;2 &#8712; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#968; &#8712; fmla&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span> </span><span>nprv_addImpLemmaI</span><span> </span><span>nprv_cut</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_addImpLemmaE1</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addImpLemmaE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_addImpLemmaE2</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addImpLemmaE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_addImpLemmaE12</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addImpLemmaE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_addImp2LemmaI</span><span class="delimiter">:</span><span>
</span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;prv (imp &#966;1 (imp &#966;2 &#966;3))&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;F &#8838; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;finite F&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#966;1 &#8712; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#966;2 &#8712; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#966;3 &#8712; fmla&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#966;1&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#966;2&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#966;3&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>meson</span><span> </span><span>assms</span><span> </span><span>imp</span><span> </span><span>nprv_addImpLemmaI</span><span> </span><span>nprv_mp</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_addImp2LemmaE</span><span class="delimiter">:</span><span>
</span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;prv (imp &#966;1 (imp &#966;2 &#966;3))&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#966;1&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#966;2&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv ((insert &#966;3) F) &#968;&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;F &#8838; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;finite F&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#966;1 &#8712; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#966;2 &#8712; fmla&quot;</span></span></span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;&#966;3 &#8712; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#968; &#8712; fmla&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>meson</span><span> </span><span>assms</span><span> </span><span>nprv_addImp2LemmaI</span><span> </span><span>nprv_cut</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_addImp2LemmaE1</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addImp2LemmaE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_addImp2LemmaE2</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addImp2LemmaE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_addImp2LemmaE3</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addImp2LemmaE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_addImp2LemmaE12</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addImp2LemmaE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_addImp2LemmaE13</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addImp2LemmaE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_addImp2LemmaE23</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addImp2LemmaE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_addImp2LemmaE123</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addImp2LemmaE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_addImp3LemmaI</span><span class="delimiter">:</span><span>
</span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;prv (imp &#966;1 (imp &#966;2 (imp &#966;3 &#966;4)))&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;F &#8838; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;finite F&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#966;1 &#8712; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#966;2 &#8712; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#966;3 &#8712; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#966;4 &#8712; fmla&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#966;1&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#966;2&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#966;3&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#966;4&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>meson</span><span> </span><span>assms</span><span> </span><span>imp</span><span> </span><span>nprv_addImpLemmaI</span><span> </span><span>nprv_mp</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_addImp3LemmaE</span><span class="delimiter">:</span><span>
</span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;prv (imp &#966;1 (imp &#966;2 (imp &#966;3 &#966;4)))&quot;</span></span></span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#966;1&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#966;2&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#966;3&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv ((insert &#966;4) F) &#968;&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;F &#8838; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;finite F&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#966;1 &#8712; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#966;2 &#8712; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#966;3 &#8712; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#966;4 &#8712; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#968; &#8712; fmla&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>meson</span><span> </span><span>assms</span><span> </span><span>nprv_addImp3LemmaI</span><span> </span><span>nprv_cut</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_addImp3LemmaE1</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addImp3LemmaE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_addImp3LemmaE2</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addImp3LemmaE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_addImp3LemmaE3</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addImp3LemmaE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_addImp3LemmaE4</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addImp3LemmaE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_addImp3LemmaE12</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addImp3LemmaE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_addImp3LemmaE13</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addImp3LemmaE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_addImp3LemmaE14</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addImp3LemmaE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_addImp3LemmaE23</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addImp3LemmaE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_addImp3LemmaE24</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addImp3LemmaE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_addImp3LemmaE34</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addImp3LemmaE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_addImp3LemmaE123</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addImp3LemmaE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_addImp3LemmaE124</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addImp3LemmaE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_addImp3LemmaE134</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addImp3LemmaE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_addImp3LemmaE234</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addImp3LemmaE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_addImp3LemmaE1234</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addImp3LemmaE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_addDsjLemmaE</span><span class="delimiter">:</span><span>
</span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;prv (dsj &#966;1 &#966;2)&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv (insert &#966;1 F) &#968;&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv ((insert &#966;2) F) &#968;&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;F &#8838; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;finite F&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#966;1 &#8712; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#966;2 &#8712; fmla&quot;</span></span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#968; &#8712; fmla&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;nprv F &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>meson</span><span> </span><span>assms</span><span> </span><span>dsj</span><span> </span><span>nprv_clear</span><span> </span><span>nprv_dsjE</span><span> </span><span>prv_nprv0I</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_addDsjLemmaE1</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addDsjLemmaE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_addDsjLemmaE2</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addDsjLemmaE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_addDsjLemmaE12</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addDsjLemmaE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span>
</span><span>
</span><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* Intro/elim/etc. rules for equality  *)</span></span></span></span></span><span>
</span><span>
</span><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* Reflexivity: *)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_eql_reflI</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;F &#8838; fmla &#10233; finite F &#10233; t &#8712; trm &#10233; nprv F (eql t t)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>prv_eql_reflT</span><span> </span><span>prv_nprvI</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_eq_eqlI</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;t1 = t2 &#10233; F &#8838; fmla &#10233; finite F &#10233; t1 &#8712; trm &#10233; nprv F (eql t1 t2)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>prv_eql_reflT</span><span> </span><span>prv_nprvI</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* Symmetry: *)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_eql_symI</span><span> </span><span class="delimiter">=</span><span>  </span><span>nprv_addImpLemmaI</span><span class="delimiter">[</span><span>OF</span><span> </span><span>prv_eql_sym</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">,</span><span> </span><span>rotated</span><span> </span><span>4</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_eql_symE</span><span> </span><span class="delimiter">=</span><span>  </span><span>nprv_addImpLemmaE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>prv_eql_sym</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">,</span><span> </span><span>rotated</span><span> </span><span>2</span><span class="delimiter">]</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_eql_symE0</span><span> </span><span class="delimiter">=</span><span>  </span><span>nprv_eql_symE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_eql_symE1</span><span> </span><span class="delimiter">=</span><span>  </span><span>nprv_eql_symE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_eql_symE01</span><span> </span><span class="delimiter">=</span><span>  </span><span>nprv_eql_symE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span>
</span><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* Transitivity: *)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_eql_transI</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addImp2LemmaI</span><span class="delimiter">[</span><span>OF</span><span> </span><span>prv_eql_imp_trans</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">,</span><span> </span><span>rotated</span><span> </span><span>5</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_eql_transE</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addImp2LemmaE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>prv_eql_imp_trans</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">,</span><span> </span><span>rotated</span><span> </span><span>3</span><span class="delimiter">]</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_eql_transE0</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_eql_transE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_eql_transE1</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_eql_transE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_eql_transE2</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_eql_transE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_eql_transE01</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_eql_transE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_eql_transE02</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_eql_transE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_eql_transE12</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_eql_transE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_eql_transE012</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_eql_transE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span>
</span><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* Substitutivity: *)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_eql_substI</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addImp2LemmaI</span><span class="delimiter">[</span><span>OF</span><span> </span><span>prv_eql_subst_trm_rev</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">,</span><span> </span><span>rotated</span><span> </span><span>6</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_eql_substE</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_addImp2LemmaE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>prv_eql_subst_trm_rev</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">,</span><span> </span><span>rotated</span><span> </span><span>4</span><span class="delimiter">]</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_eql_substE0</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_eql_substE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_eql_substE1</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_eql_substE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_eql_substE2</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_eql_substE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_eql_substE01</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_eql_substE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_eql_substE02</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_eql_substE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_eql_substE12</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_eql_substE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>_</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">lemmas</span></span><span> </span><span>nprv_eql_substE012</span><span> </span><span class="delimiter">=</span><span> </span><span>nprv_eql_substE</span><span class="delimiter">[</span><span>OF</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span> </span><span>nprv_hyp</span><span class="delimiter">,</span><span> </span><span>simped</span><span class="delimiter">]</span><span>
</span><span>
</span><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* Other seemingly useful variations of the intro/elim rules: *)</span></span></span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>nprv_cnjH</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;nprv (insert &#966;1 (insert &#966;2 F)) &#968; &#10233;
 F &#8838; fmla &#10233; finite F &#10233; &#966;1 &#8712; fmla &#10233; &#966;2 &#8712; fmla &#10233; &#968; &#8712; fmla &#10233;
 nprv (insert (cnj &#966;1 &#966;2) F) &#968;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>nprv_cut2</span><span class="delimiter">[</span><span>of</span><span> </span><span>_</span><span> </span><span>&#966;1</span><span> </span><span>&#966;2</span><span class="delimiter">]</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span class="delimiter">:</span><span> </span><span>nprv_impI_rev</span><span> </span><span>prv_imp_cnjL</span><span> </span><span>prv_imp_cnjR</span><span> </span><span>prv_nprvI</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>meson</span><span> </span><span>cnj</span><span> </span><span>finite.insertI</span><span> </span><span>insert_iff</span><span> </span><span>insert_subset</span><span> </span><span>nprv_mono</span><span> </span><span>subset_insertI</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword2"><span class="keyword">end</span></span><span> </span><span class="comment">&#8213; &#8249;context Deduct_with_False_Disj&#8250;</span><span>
</span><span>
</span><span class="keyword2"><span class="keyword">end</span></span><span>
</span></pre>

</div>
</body>
</html>
